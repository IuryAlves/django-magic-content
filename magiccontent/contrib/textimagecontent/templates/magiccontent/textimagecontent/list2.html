{% load cropping %}
{% load magiccontent_tags %}
<!-- widget: TextImageContent:: list2 -->

<article class="col-md-12">

    <header>
      {% if widget.description %}
        <h1 class="decorator">{{ widget.description }}</h1>
      {% endif %}
      {% show_editable_area_tag area.id widget.id can_edit area.name %}
    </header>

    <div class="row">
      {% for object in object_list %}
        <div {% block column_size %}class="col-md-6 {{ editable }}"{% endblock %}>
          {% show_editable_widget_tag widget.widget_type widget.id object.id can_edit %}
          <div class="content-item">
            {% if object.picture %}
              <div class="overlay-effect effects clearfix">
                <div class="img">
                  <figure class="imglist {{ object.picture_filter }}">
                    <img src="{% cropped_thumbnail object 'picture_cropping' scale=0.5 %}">
                  </figure>
                  {% if object.link_url %}
                    <div class="overlay">
                      <a href="{{ object.link_url }}" class="expand"><i class="fa fa-search"></i>
                      {% if object.link_label %}<br>{{ object.link_label }}{% endif %}</a>
                      <a class="close-overlay hidden">x</a>
                    </div>
                  {% endif %}
                </div>
              </div>
            {% endif %}

            {% if object.link_url %}
              <a href="{{ object.link_url }}">
                <h2>{{ object.title }}</h2>
              </a>
            {% else %}
              <h2>{{ object.title }}</h2>
            {% endif %}

            {% if object.sub_title %}
              <h3><strong>{{ object.sub_title }}</strong></h3>
            {% endif %}

            <p>{{ object.content|safe }}</p>

            {% if not object.picture and object.link_label %}
              <p><a href="{{ object.link_url }}" class="btn-3d">{{ object.link_label }}</a></p>
            {% endif %}

          </div> <!-- content-item -->
        </div>
        {% block column_number %}
          {% if forloop.counter|divisibleby:2 %}
            <div class="clearfix"></div>
          {% endif %}
        {% endblock column_number %}
      {% endfor %}
    </div>

</article>
