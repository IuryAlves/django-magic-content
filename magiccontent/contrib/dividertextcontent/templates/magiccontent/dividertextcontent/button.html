{% load static %}
{% load cropping %}
{% load magiccontent_tags %}

  <!-- widget: DividerTextContent:: button -->

  <div class="col-md-12 {{ editable }}">
    <div class="filter-holder {{ object.picture_filter }}"></div>
    {% show_editable_widget_tag widget.widget_type widget.id object.id can_edit show_add_btn=False show_order_btn=False show_sytle_btn=True %}
    {% if object.title %}
      <h1 class="fttitle4up-bg">{{ object.title }}</h1>
    {% endif %}
    {% if object.sub_title %}
      <h2 class="fttitle4up-bg">{{ object.sub_title }}</h2>
    {% endif %}
    {% if object.link_url %}
      <div class="og-details og-details-light text-center">
        <a href="{{ object.link_url }}">{{ object.link_label }}</a>
      </div>
    {% endif %}
  </div>

  {% block extrajs %}
    {% if object.picture and div %}
      <script>
        $(function() {
          var filter = $('.{{ div }} .filter-holder').attr('class').split(' ');
          filter = filter.splice(filter.indexOf('.filter-holder'), 1)[0];
          var new_el = $('<div class="bg-holder" />').css({
            'background': 'url({% cropped_thumbnail object "picture_cropping" scale=1 %})',
            'background-size': 'cover',
            'background-repeat': 'no-repeat'
          }).addClass(filter);
          $('.{{ div }}').prepend(new_el);
        });
      </script>
    {% endif %}
  {% endblock %}
